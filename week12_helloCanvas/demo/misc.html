<!DOCTYPE html>
<html>
<head>
	<title>Misc</title>
	<script type="text/javascript">
		window.onload = function () {
			var canvas = document.getElementById("mycanvas"),
				ctx = canvas.getContext("2d");

			/// Gradient color
			var graColor1 = ctx.createLinearGradient(20, 20, 220, 220);
			graColor1.addColorStop(0, "red");
			graColor1.addColorStop(1, "blue");
			var graColor2 = ctx.createRadialGradient(450, 120, 0, 450, 120, 100);
			graColor2.addColorStop(0, "green");
			graColor2.addColorStop(1, "lightgreen");

			ctx.fillStyle = graColor1;
			ctx.fillRect(20, 20, 200, 200);
			ctx.fillStyle = graColor2;
			ctx.fillRect(350, 20, 200, 200);


			var img = new Image();
			img.src = "./avatar.png";
			img.onload = function () {
				/// Clip
				ctx.save();
				ctx.beginPath();
				ctx.arc(120, 400, 100, 0, Math.PI * 2);
				ctx.clip();
				ctx.drawImage(img, 20, 300);
				ctx.restore();

				ctx.save();
				ctx.beginPath();
				ctx.moveTo(580, 280);
				ctx.lineTo(730, 300);
				ctx.lineTo(630, 450);
				ctx.arc(580, 400, 30, 0, Math.PI * 2);
				ctx.clip();
				ctx.drawImage(img, 550, 250);
				ctx.restore();


				/// Alpha
				ctx.globalAlpha = 0.6;
				ctx.drawImage(img, 250, 250);
			};
		};
	</script>
</head>
<body>
<canvas id="mycanvas" style="border: 1px #000000 solid;" width="800" height="600"></canvas>
</body>
</html>